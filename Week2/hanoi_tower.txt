#include <bits/stdc++.h>
using namespace std;

int call_cnt = 1;
int move_cnt = 0;

void hanoi(int n, int K, char src, char via, char dst) {
    if (n == 1) {
      	move_cnt++;
      	if (move_cnt == K)
     		printf("%c -> %c\n", src, dst);
    }
    else {
        hanoi(n-1, K, src, dst, via); call_cnt++;
        hanoi(1, K, src, via, dst); call_cnt++;
        hanoi(n-1, K, via, src, dst); call_cnt++;
    }
}

int main() {
    int n;
  	int K;
   	scanf("%d %d", &n, &K);
    hanoi(n, K, 'A', 'B', 'C');
  	printf("%d", call_cnt);
}